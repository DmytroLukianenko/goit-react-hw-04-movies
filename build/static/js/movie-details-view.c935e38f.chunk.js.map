{"version":3,"sources":["Services/movie-api.js","images/broken.png","images/notFound.jpg","views/ErrorView.js","components/MovieCard/MovieCard.module.css","components/MovieCard/MovieCard.js","components/Button/Button.js","views/MovieDetailsView.js"],"names":["BASE_URL","KEY","fetchByURL","url","a","fetch","response","json","data","api","getTrendingData","getSearchData","query","getMovieById","id","getMovieCast","getMovieReviews","ErrorView","title","style","fontFamily","fontWeight","width","src","notFound","alt","module","exports","MovieCard","movie","mappedGenres","genres","map","genre","name","join","useRouteMatch","location","useLocation","className","s","wrapper","image","poster_path","broken","content","text","vote_average","category","overview","nav","list","item","to","pathname","state","link","activeClassName","activeLink","Button","route","navRoute","type","textDecoration","color","MovieCast","lazy","MovieReviews","MovieDetailsView","slug","useParams","path","movieId","match","isValidRoute","useQuery","moviesAPI","status_code","Error","console","log","retry","isLoading","isError","isSuccess","error","Loader","message","fallback"],"mappings":"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","file":"static/js/movie-details-view.c935e38f.chunk.js","sourcesContent":["const BASE_URL = `https://api.themoviedb.org/3`;\r\nconst KEY = `980ba820651dea2643403287e166df37`;\r\n\r\nasync function fetchByURL(url) {\r\n    const response = await fetch(url);\r\n    const data = await response.json();\r\n    return data;\r\n}\r\n\r\nfunction getTrendingData() {\r\n    const url = `${BASE_URL}/trending/movie/day?api_key=${KEY}&language=en-US`;\r\n    return fetchByURL(url);\r\n}\r\n\r\nfunction getSearchData(query) {\r\n    const url = `${BASE_URL}/search/movie?api_key=${KEY}&language=en-US&query=${query}`;\r\n    return fetchByURL(url);\r\n}\r\n\r\nfunction getMovieById(id) {\r\n    const url = `${BASE_URL}/movie/${id}?api_key=${KEY}&language=en-US`;\r\n    return fetchByURL(url);\r\n}\r\n\r\nfunction getMovieCast(id) {\r\n    const url = `${BASE_URL}/movie/${id}/credits?api_key=${KEY}&language=en-US`;\r\n    return fetchByURL(url);\r\n}\r\n\r\nfunction getMovieReviews(id) {\r\n    const url = `${BASE_URL}/movie/${id}/reviews?api_key=${KEY}&language=en-US`;\r\n    return fetchByURL(url);\r\n}\r\n\r\nconst api = {\r\n    getTrendingData,\r\n    getSearchData,\r\n    getMovieById,\r\n    getMovieCast,\r\n    getMovieReviews,\r\n};\r\n\r\nexport default api;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAV4AAAEUCAMAAABUNq4iAAAC1lBMVEXm5uYAAAD/tgD/lgD/lwD/lgD/lwD/lwD/lgD/lgD/lgD/lwD/mAD/mwD/vwD/lgD/lwD/lgD/mQD/lwD/lwD/mgD/lwD/lwD/qgD/lwD//wD/lgD/nQD/lgD/lgD/lwD/lwD/lwD/lwD/lgD/lgD/lwD/lgD/lwD/lwD/lgD/lwD/qgD/lgD/lwD/mQD/qgD/lgD/nQD/mAD/lwD/mgD/lwD/ogD/oQD/lwD/lwD/mQD/lwD/lgD/mQD/mAD/lwD/lgD/mAD/lgD/mAD/lgD/lwD/lwD/lwD/lwD/pAD/lgD/lwD/lgD/lgD/lwD/lwD/mAD/lwD/lgD/mQD/lwD/lwD/mQD/mQD/nwD/lgD/lwD/lgD/mgD/lgD/lwD/lwD/lgD/nwD/ngD/lgD/lwD/lgD/lwD/lgD//wD/lgD/lgD/mAD/mQD/qgD/lgD/mwD/mAD/mgD/mQD/lwD/lgD/lwD/mQD/lwD/lwD/mAD/lgD/nAD/lwD/mwD/lwD/mAD/lgD/lgD/lgD/lwD/lwD/mQD/lgD/lwD/lwD/lwD/lwD/lgD/mQD/mAD/lwD/nAD/lgD/lwD/mAD/mwD/lwD/lwD/mAD/lgD/lwD/lgD/lgD/lwD/lwD/mgD/ngD/mAD/mQD/mAD/mQD/lwD/mAD/lgD/lwD/mAD/lwD/lwD/lwD/lgD/lwD/lwD/lwD/lwD/mgD/lgD/lgD/lwD/mAD/lwD/lwD/lgD/lwD/lgD/lwD/mAD/lwD/lgD/lwD/lwD/mAD/mAD/lwD/lwD/lgD/lwD/mAD/lgD/lgD/lgD/lgD/lgD/mAD/nwD/lwD/lwD/lwD/lwD/lwD/lgD/lwD/lwD/lwD/mwD/lwD/lwD/lgD/mAD/lwD/lgD/lgD/lgD/lwD/lgD/mAD/lwD/lwD/lwD/mAD/nAD/lwD/mAD/lgD/lwD/mQD/mAD/lwD/lgD/lgD/lwB92HTLAAAA8nRSTlP/AAdJmMzm/P/23cF+LgRmwjgezpM16bwMsAF8GpfuQnaQ8qqSldH+pvt4CTPJQQa7DXmpMJELE9BHMrXIBWG68y/UTREbYOGsDrKATvH5iUhA7yjY4y0jEFWF6j/ibn+hCB09W/1dcAKGz1dGA4spKitQnbRYN8vV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\"","export default __webpack_public_path__ + \"static/media/notFound.5fe771e2.jpg\";","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport notFound from '../images/notFound.jpg';\r\n\r\nexport default function ErrorView({ title }) {\r\n    const defaultTitle = 'Oops! No such page :(';\r\n\r\n    return (\r\n        <>\r\n            <p style={{ fontFamily: 'Roboto, sans-serif', fontWeight: '700' }}>\r\n                {title || defaultTitle}\r\n            </p>\r\n\r\n            <img style={{ width: '500px' }} src={notFound} alt=\"error\" />\r\n        </>\r\n    );\r\n}\r\n\r\nErrorView.propTypes = {\r\n    title: PropTypes.string,\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"MovieCard_wrapper__2RltZ\",\"image\":\"MovieCard_image__2Rrzt\",\"content\":\"MovieCard_content__1Egil\",\"category\":\"MovieCard_category__3vuT2\",\"link\":\"MovieCard_link___4-gH\",\"item\":\"MovieCard_item__197KH\",\"activeLink\":\"MovieCard_activeLink__1C85f\",\"list\":\"MovieCard_list__1kJcz\",\"nav\":\"MovieCard_nav__1EfDA\"};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { NavLink, useRouteMatch, useLocation } from 'react-router-dom';\r\nimport s from './MovieCard.module.css';\r\nimport broken from '../../images/broken.png';\r\n\r\nexport const MovieCard = ({ movie }) => {\r\n    const mappedGenres = movie.genres.map(genre => genre.name).join(', ');\r\n    const { url } = useRouteMatch();\r\n    const location = useLocation();\r\n\r\n    return (\r\n        <>\r\n            <div className={s.wrapper}>\r\n                <img\r\n                    className={s.image}\r\n                    src={\r\n                        movie.poster_path\r\n                            ? `https://image.tmdb.org/t/p/w500${movie.poster_path}`\r\n                            : broken\r\n                    }\r\n                    alt={movie.title}\r\n                />\r\n                <div className={s.content}>\r\n                    <h2 className={s.title}>{movie.title}</h2>\r\n                    <p className={s.text}>User Score: {movie.vote_average * 10}%</p>\r\n                    <p className={s.category}>Overview:</p>\r\n                    <p className={s.text}>{movie.overview}</p>\r\n                    <p className={s.category}>Genres:</p>\r\n                    <p className={s.text}>{mappedGenres}</p>\r\n                </div>\r\n            </div>\r\n            <div className={s.nav}>\r\n                <p className={s.category}>Additional information</p>\r\n                <ul className={s.list}>\r\n                    <li className={s.item}>\r\n                        <NavLink\r\n                            to={{\r\n                                pathname: `${url}/cast`,\r\n                                state: location.state,\r\n                            }}\r\n                            className={s.link}\r\n                            activeClassName={s.activeLink}\r\n                        >\r\n                            Cast\r\n            </NavLink>\r\n                    </li>\r\n                    <li className={s.item}>\r\n                        <NavLink\r\n                            to={{\r\n                                pathname: `${url}/reviews`,\r\n                                state: location.state,\r\n                            }}\r\n                            className={s.link}\r\n                            activeClassName={s.activeLink}\r\n                        >\r\n                            Reviews\r\n            </NavLink>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\n\r\nMovieCard.propTypes = {\r\n    movie: PropTypes.object.isRequired,\r\n};","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport const Button = ({ route }) => {\r\n    const label = '<- Go back';\r\n\r\n    const navRoute = route ? route : '/';\r\n\r\n    return (\r\n        <button type=\"button\">\r\n            <Link to={navRoute} style={{ textDecoration: 'none', color: 'black' }}>\r\n                {label}\r\n            </Link>\r\n        </button>\r\n    );\r\n}\r\n\r\nButton.propTypes = {\r\n    route: PropTypes.string,\r\n};","import React, { lazy, Suspense } from 'react';\r\nimport { Redirect, Route, useParams, useRouteMatch } from 'react-router-dom';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { useQuery } from 'react-query';\r\nimport moviesAPI from '../Services/movie-api';\r\nimport { MovieCard } from '../components/MovieCard/MovieCard';\r\nimport { Loader } from '../components/Loader/Loader'\r\nimport ErrorView from './ErrorView';\r\nimport { Button } from '../components/Button/Button';\r\nimport { func } from 'prop-types';\r\n// import { MovieCast } from '../components/MovieCast/MovieCast'\r\n\r\n\r\nconst MovieCast = lazy(() =>\r\n    import('../components/MovieCast/MovieCast' /* webpackChunkName: \"movie-cast\" */),\r\n);\r\nconst MovieReviews = lazy(() =>\r\n    import('../components/MovieReviews/MovieReviews' /* webpackChunkName: \"movie-reviews\" */),\r\n);\r\n\r\nexport default function MovieDetailsView() {\r\n    const { slug } = useParams();\r\n    const { url, path } = useRouteMatch();\r\n\r\n    const location = useLocation();\r\n\r\n    const movieId = slug.match(/[0-9]+$/)[0];\r\n\r\n    const isValidRoute =\r\n        location.pathname === url ||\r\n        location.pathname === `${url}/reviews` ||\r\n        location.pathname === `${url}/cast`;\r\n\r\n    const { isLoading, isError, isSuccess, data, error } = useQuery(\r\n        ['searchMovies', movieId],\r\n        async () => {\r\n            const data = await moviesAPI.getMovieById(movieId);\r\n            if (data.status_code === 34) {\r\n                throw new Error('No details for this movie');\r\n            }\r\n            console.log(data);\r\n            return data;\r\n        },\r\n        {\r\n            retry: false,\r\n        },\r\n    );\r\n\r\n    return (\r\n        <>\r\n            {!isValidRoute && <Redirect to=\"/\" />}\r\n\r\n            <div style={{ width: '100%' }}>\r\n                <Button route={location.state} />\r\n            </div>\r\n\r\n            {isLoading && <Loader />}\r\n            {isSuccess && <MovieCard movie={data} />}\r\n            {isError && <ErrorView title={error.message} />}\r\n\r\n            <Suspense fallback={<Loader />}>\r\n                <Route path={`${path}/cast`}>\r\n                    {data && <MovieCast id={data.id} />}\r\n                </Route>\r\n\r\n                <Route path={`${path}/reviews`}>\r\n                    {data && <MovieReviews id={data.id} />}\r\n                </Route>\r\n            </Suspense>\r\n        </>\r\n    );\r\n}"],"sourceRoot":""}